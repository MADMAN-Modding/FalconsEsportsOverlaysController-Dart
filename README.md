This contains all the code for the overlay controller when it was written in Dart